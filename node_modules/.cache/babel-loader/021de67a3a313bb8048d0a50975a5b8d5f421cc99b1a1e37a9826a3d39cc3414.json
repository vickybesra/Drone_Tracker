{"ast":null,"code":"var _jsxFileName = \"/Users/vickybesra/project/tractor-tracker-backend/src/components/VehicleTracker.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport io from 'socket.io-client';\nimport 'leaflet/dist/leaflet.css';\n\n// Vehicle styles (unchanged)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst vehicleStyles = {\n  vehicle1: {\n    icon: L.icon({\n      iconUrl: '/images/tractor_2548747.png',\n      iconSize: [32, 32],\n      iconAnchor: [16, 32],\n      popupAnchor: [0, -32]\n    }),\n    pathColor: 'blue'\n  }\n  // other vehicle styles...\n};\nconst defaultStyle = {\n  icon: L.icon({\n    iconUrl: '/images/tractor_2548747.png',\n    iconSize: [32, 32],\n    iconAnchor: [16, 32],\n    popupAnchor: [0, -32]\n  }),\n  pathColor: 'red'\n};\n\n// Initial vehicle data\nconst initialVehicles = {\n  vehicle1: {\n    id: \"vehicle1\",\n    name: \"Vehicle 1\",\n    currentPosition: {\n      lat: 22.317094,\n      lng: 87.314139\n    },\n    lastUpdateTime: Date.now(),\n    path: []\n  }\n  // other vehicles...\n};\nfunction VehicleTracker() {\n  _s();\n  const [vehicles, setVehicles] = useState(initialVehicles);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [focusPos, setFocusPos] = useState([22.317094, 87.314139]);\n  const socketRef = useRef(null);\n  useEffect(() => {\n    // Socket initialization - only once\n    if (!socketRef.current) {\n      // Configure socket with proper parameters\n      socketRef.current = io('http://localhost:8080', {\n        transports: ['websocket'],\n        reconnection: true,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n        timeout: 20000\n      });\n\n      // Connection events\n      socketRef.current.on('connect', () => {\n        console.log('Connected to server');\n        setConnectionStatus('connected');\n      });\n      socketRef.current.on('disconnect', reason => {\n        console.log(`Disconnected: ${reason}`);\n        setConnectionStatus('disconnected');\n      });\n\n      // Handle GPS data updates\n      socketRef.current.on('gpsData', data => {\n        console.log('Received GPS data:', data);\n        if (!data) return;\n        setVehicles(prevVehicles => {\n          const newVehicles = {\n            ...prevVehicles\n          };\n\n          // Process vehicle-like entries only (objects with current/path)\n          Object.keys(data).forEach(vehicleId => {\n            const entry = data[vehicleId];\n            if (!entry || typeof entry !== 'object' || Array.isArray(entry)) return;\n            const hasCurrent = entry.current && entry.current.latitude != null && entry.current.longitude != null;\n            const hasPath = Array.isArray(entry.path);\n            if (!hasCurrent && !hasPath) return;\n\n            // Initialize vehicle if not exists\n            if (!newVehicles[vehicleId]) {\n              newVehicles[vehicleId] = {\n                id: vehicleId,\n                name: vehicleId,\n                currentPosition: {\n                  lat: 0,\n                  lng: 0\n                },\n                lastUpdateTime: Date.now(),\n                path: []\n              };\n            }\n\n            // Update current position\n            if (hasCurrent) {\n              newVehicles[vehicleId].currentPosition = {\n                lat: parseFloat(entry.current.latitude),\n                lng: parseFloat(entry.current.longitude)\n              };\n              newVehicles[vehicleId].lastUpdateTime = entry.current.timestamp || Date.now();\n            }\n\n            // Update path if available\n            if (hasPath) {\n              newVehicles[vehicleId].path = entry.path.map(point => ({\n                lat: parseFloat(point.latitude),\n                lng: parseFloat(point.longitude),\n                timestamp: point.timestamp || Date.now()\n              }));\n            }\n          });\n          return newVehicles;\n        });\n\n        // Recenter on the primary vehicle (vehicle1) or the first available\n        const focusEntry = data.vehicle1 && data.vehicle1.current ? data.vehicle1 : Object.values(data).find(v => v && typeof v === 'object' && v.current && v.current.latitude != null && v.current.longitude != null);\n        if (focusEntry && focusEntry.current) {\n          const lat = parseFloat(focusEntry.current.latitude);\n          const lng = parseFloat(focusEntry.current.longitude);\n          if (Number.isFinite(lat) && Number.isFinite(lng)) setFocusPos([lat, lng]);\n        }\n      });\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n        socketRef.current = null;\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    style: {\n      height: '100vh',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n        zIndex: 1000,\n        padding: '5px 10px',\n        backgroundColor: connectionStatus === 'connected' ? 'green' : 'red',\n        color: 'white',\n        borderRadius: '4px'\n      },\n      children: connectionStatus === 'connected' ? 'Connected' : 'Disconnected'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: focusPos,\n      zoom: 15,\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RecenterOnPosition, {\n        position: focusPos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), Object.keys(vehicles).map(id => {\n        const vehicle = vehicles[id];\n        const style = vehicleStyles[id] || defaultStyle;\n        const pos = vehicle.currentPosition;\n        if (!pos || pos.lat == null || pos.lng == null) return null;\n\n        // Create path positions for polyline\n        const pathPositions = vehicle.path && vehicle.path.length > 0 ? vehicle.path.map(p => [p.lat, p.lng]) : [];\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [pathPositions.length > 1 && /*#__PURE__*/_jsxDEV(Polyline, {\n            positions: pathPositions,\n            color: style.pathColor,\n            weight: 3,\n            opacity: 0.7\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: [pos.lat, pos.lng],\n            icon: style.icon,\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: vehicle.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Last Update: \", new Date(vehicle.lastUpdateTime).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Path Points: \", pathPositions.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Position: \", pos.lat.toFixed(6), \", \", pos.lng.toFixed(6)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper to recenter the map when position changes\n_s(VehicleTracker, \"ZtXrQGXpdi8YwcDcRscDT7zXC8w=\");\n_c = VehicleTracker;\nfunction RecenterOnPosition({\n  position\n}) {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    if (position && Array.isArray(position) && position.length === 2) {\n      map.setView(position);\n    }\n  }, [map, position]);\n  return null;\n}\n_s2(RecenterOnPosition, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = RecenterOnPosition;\nexport default VehicleTracker;\nvar _c, _c2;\n$RefreshReg$(_c, \"VehicleTracker\");\n$RefreshReg$(_c2, \"RecenterOnPosition\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MapContainer","TileLayer","Marker","Popup","Polyline","useMap","L","io","jsxDEV","_jsxDEV","vehicleStyles","vehicle1","icon","iconUrl","iconSize","iconAnchor","popupAnchor","pathColor","defaultStyle","initialVehicles","id","name","currentPosition","lat","lng","lastUpdateTime","Date","now","path","VehicleTracker","_s","vehicles","setVehicles","connectionStatus","setConnectionStatus","focusPos","setFocusPos","socketRef","current","transports","reconnection","reconnectionAttempts","reconnectionDelay","timeout","on","console","log","reason","data","prevVehicles","newVehicles","Object","keys","forEach","vehicleId","entry","Array","isArray","hasCurrent","latitude","longitude","hasPath","parseFloat","timestamp","map","point","focusEntry","values","find","v","Number","isFinite","disconnect","className","style","height","width","children","position","top","right","zIndex","padding","backgroundColor","color","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","url","attribution","RecenterOnPosition","vehicle","pos","pathPositions","length","p","Fragment","positions","weight","opacity","toLocaleString","toFixed","_c","_s2","setView","_c2","$RefreshReg$"],"sources":["/Users/vickybesra/project/tractor-tracker-backend/src/components/VehicleTracker.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport io from 'socket.io-client';\nimport 'leaflet/dist/leaflet.css';\n\n// Vehicle styles (unchanged)\nconst vehicleStyles = {\n  vehicle1: {\n    icon: L.icon({\n      iconUrl: '/images/tractor_2548747.png',\n      iconSize: [32, 32],\n      iconAnchor: [16, 32],\n      popupAnchor: [0, -32]\n    }),\n    pathColor: 'blue'\n  },\n  // other vehicle styles...\n};\n\nconst defaultStyle = {\n  icon: L.icon({\n    iconUrl: '/images/tractor_2548747.png',\n    iconSize: [32, 32],\n    iconAnchor: [16, 32],\n    popupAnchor: [0, -32]\n  }),\n  pathColor: 'red'\n};\n\n// Initial vehicle data\nconst initialVehicles = {\n  vehicle1: {\n    id: \"vehicle1\",\n    name: \"Vehicle 1\",\n    currentPosition: { lat: 22.317094, lng: 87.314139 },\n    lastUpdateTime: Date.now(),\n    path: []\n  },\n  // other vehicles...\n};\n\nfunction VehicleTracker() {\n  const [vehicles, setVehicles] = useState(initialVehicles);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [focusPos, setFocusPos] = useState([22.317094, 87.314139]);\n  const socketRef = useRef(null);\n  \n  useEffect(() => {\n    // Socket initialization - only once\n    if (!socketRef.current) {\n      // Configure socket with proper parameters\n      socketRef.current = io('http://localhost:8080', {\n        transports: ['websocket'],\n        reconnection: true,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n        timeout: 20000\n      });\n      \n      // Connection events\n      socketRef.current.on('connect', () => {\n        console.log('Connected to server');\n        setConnectionStatus('connected');\n      });\n      \n      socketRef.current.on('disconnect', (reason) => {\n        console.log(`Disconnected: ${reason}`);\n        setConnectionStatus('disconnected');\n      });\n      \n      // Handle GPS data updates\n      socketRef.current.on('gpsData', (data) => {\n        console.log('Received GPS data:', data);\n        \n        if (!data) return;\n        \n        setVehicles(prevVehicles => {\n          const newVehicles = { ...prevVehicles };\n          \n          // Process vehicle-like entries only (objects with current/path)\n          Object.keys(data).forEach(vehicleId => {\n            const entry = data[vehicleId];\n            if (!entry || typeof entry !== 'object' || Array.isArray(entry)) return;\n            const hasCurrent = entry.current && (entry.current.latitude != null) && (entry.current.longitude != null);\n            const hasPath = Array.isArray(entry.path);\n            if (!hasCurrent && !hasPath) return;\n            \n            // Initialize vehicle if not exists\n            if (!newVehicles[vehicleId]) {\n              newVehicles[vehicleId] = {\n                id: vehicleId,\n                name: vehicleId,\n                currentPosition: { lat: 0, lng: 0 },\n                lastUpdateTime: Date.now(),\n                path: []\n              };\n            }\n            \n            // Update current position\n            if (hasCurrent) {\n              newVehicles[vehicleId].currentPosition = {\n                lat: parseFloat(entry.current.latitude),\n                lng: parseFloat(entry.current.longitude)\n              };\n              newVehicles[vehicleId].lastUpdateTime = entry.current.timestamp || Date.now();\n            }\n            \n            // Update path if available\n            if (hasPath) {\n              newVehicles[vehicleId].path = entry.path.map(point => ({\n                lat: parseFloat(point.latitude),\n                lng: parseFloat(point.longitude),\n                timestamp: point.timestamp || Date.now()\n              }));\n            }\n          });\n          \n          return newVehicles;\n        });\n\n        // Recenter on the primary vehicle (vehicle1) or the first available\n        const focusEntry = data.vehicle1 && data.vehicle1.current\n          ? data.vehicle1\n          : Object.values(data).find(v => v && typeof v === 'object' && v.current && v.current.latitude != null && v.current.longitude != null);\n        if (focusEntry && focusEntry.current) {\n          const lat = parseFloat(focusEntry.current.latitude);\n          const lng = parseFloat(focusEntry.current.longitude);\n          if (Number.isFinite(lat) && Number.isFinite(lng)) setFocusPos([lat, lng]);\n        }\n      });\n    }\n    \n    // Cleanup on unmount\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n        socketRef.current = null;\n      }\n    };\n  }, []);\n  \n  return (\n    <div className=\"map-container\" style={{ height: '100vh', width: '100%' }}>\n      {/* Connection status indicator */}\n      <div style={{ \n        position: 'absolute', \n        top: 10, \n        right: 10, \n        zIndex: 1000,\n        padding: '5px 10px',\n        backgroundColor: connectionStatus === 'connected' ? 'green' : 'red',\n        color: 'white',\n        borderRadius: '4px'\n      }}>\n        {connectionStatus === 'connected' ? 'Connected' : 'Disconnected'}\n      </div>\n      \n      <MapContainer \n        center={focusPos} \n        zoom={15} \n        style={{ height: '100%', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        <RecenterOnPosition position={focusPos} />\n        \n        {Object.keys(vehicles).map(id => {\n          const vehicle = vehicles[id];\n          const style = vehicleStyles[id] || defaultStyle;\n          const pos = vehicle.currentPosition;\n          \n          if (!pos || pos.lat == null || pos.lng == null) return null;\n          \n          // Create path positions for polyline\n          const pathPositions = vehicle.path && vehicle.path.length > 0\n            ? vehicle.path.map(p => [p.lat, p.lng])\n            : [];\n          \n          return (\n            <React.Fragment key={id}>\n              {/* Draw path as polyline */}\n              {pathPositions.length > 1 && (\n                <Polyline \n                  positions={pathPositions} \n                  color={style.pathColor} \n                  weight={3} \n                  opacity={0.7}\n                />\n              )}\n              \n              {/* Draw vehicle marker */}\n              <Marker position={[pos.lat, pos.lng]} icon={style.icon}>\n                <Popup>\n                  <div>\n                    <h3>{vehicle.name}</h3>\n                    <p>Last Update: {new Date(vehicle.lastUpdateTime).toLocaleString()}</p>\n                    <p>Path Points: {pathPositions.length}</p>\n                    <p>Position: {pos.lat.toFixed(6)}, {pos.lng.toFixed(6)}</p>\n                  </div>\n                </Popup>\n              </Marker>\n            </React.Fragment>\n          );\n        })}\n      </MapContainer>\n    </div>\n  );\n}\n\n// Helper to recenter the map when position changes\nfunction RecenterOnPosition({ position }) {\n  const map = useMap();\n  useEffect(() => {\n    if (position && Array.isArray(position) && position.length === 2) {\n      map.setView(position);\n    }\n  }, [map, position]);\n  return null;\n}\n\nexport default VehicleTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}